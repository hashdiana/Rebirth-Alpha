//Deobfuscated with https://github.com/SimplyProgrammer/Minecraft-Deobfuscator3000 using mappings "G:\PortableSoft\JBY\MC_Deobf3000\1.12-MCP-Mappings"!

package me.rebirthclient.mod.modules.impl.exploit;

import me.rebirthclient.mod.modules.Category;
import me.rebirthclient.mod.modules.Module;
import net.minecraft.util.EnumFacing;
import net.minecraft.util.math.AxisAlignedBB;
import net.minecraft.util.math.BlockPos;
import net.minecraft.util.math.Vec3d;

public class BoxExtend extends Module {
   private static final double MAGIC_OFFSET = 0.20000996883537;

   public BoxExtend() {
      super("BoxExtend", "3ar plugin", Category.EXPLOIT);
   }

   @Override
   public void onTick() {
      EnumFacing f = mc.player.getHorizontalFacing();
      AxisAlignedBB bb = mc.player.getEntityBoundingBox();
      Vec3d center = bb.getCenter();
      Vec3d offset = new Vec3d(f.getDirectionVec());
      Vec3d fin = this.merge(new Vec3d(new BlockPos(center)).add(0.5, 0.0, 0.5).add(offset.scale(0.20000996883537)), f);
      mc.player
         .setPositionAndUpdate(
            fin.x == 0.0 ? mc.player.posX : fin.x,
            mc.player.posY,
            fin.z == 0.0 ? mc.player.posZ : fin.z
         );
      this.disable();
   }

   private Vec3d merge(Vec3d a, EnumFacing facing) {
      return new Vec3d(
         a.x * (double)Math.abs(facing.getDirectionVec().getX()),
         a.y * (double)Math.abs(facing.getDirectionVec().getY()),
         a.z * (double)Math.abs(facing.getDirectionVec().getZ())
      );
   }
}
